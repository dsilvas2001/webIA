<button
  data-drawer-target="default-sidebar"
  data-drawer-toggle="default-sidebar"
  aria-controls="default-sidebar"
  type="button"
  (click)="toggleMenu()"
  class="inline-flex items-center p-2 mt-2 ms-3 text-sm text-gray-500 rounded-lg sm:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600"
>
  <span class="sr-only">Open sidebar</span>
  <svg
    class="w-6 h-6"
    aria-hidden="true"
    fill="currentColor"
    viewBox="0 0 20 20"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      clip-rule="evenodd"
      fill-rule="evenodd"
      d="M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z"
    ></path>
  </svg>
</button>

<aside
  id="default-sidebar"
  class="fixed top-0 md:static z-40 w-64 h-screen transition-transform"
  aria-label="Sidebar"
  [ngClass]="{ '-translate-x-full': !isMenuOpen, 'sm:translate-x-0': true }"
>
  <div class="h-screen px-3 py-4 overflow-y-auto bg-white shadow-2xl">
    <ul class="space-y-2 font-medium">
      <li class="pb-8">
        <div class="flex items-center justify-start rtl:justify-end">
          <a class="flex gap-1 md:me-24">
            <img
              src="../../../../assets/images/logo/logo.svg"
              class="h-12 mr-4"
              alt="FlowBite Logo"
            />
            <p class="md:text-2xl pt-2">
              Adapti<span class="text-primary">Learn</span>
            </p>
          </a>
        </div>
      </li>
      <li class="flex flex-col gap-4 items-center">
        <img
          class="h-1/3 w-1/3 rounded-full"
          src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
          alt="avatar"
        />
        <span class="">{{ userEmail }}</span>
      </li>

      <li>
        <div class="inline-flex mb-6 items-center justify-center w-full">
          <hr class="w-64 h-1 bg-blue-500 border-0 rounded" />
          <div class="absolute px-4 -translate-x-1/2 bg-white left-1/2">
            <img
              class="h-8 w-8 rounded-full"
              src="../../../../assets/images/logo/logo.svg"
              alt="logo"
            />
          </div>
        </div>
      </li>

      <li>
        <a
          routerLink="/Dashboard/dashboard-home/"
          class="flex items-center p-2 rounded-lg text-gray-500 hover:bg-blue-600 hover:text-white group"
          (click)="setActiveLink('home')"
          [ngClass]="{
            'bg-blue-600 text-white': activeLink === 'home'
          }"
        >
          <svg
            class="w-7 h-7"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            stroke-width="2"
            stroke="currentColor"
            fill="none"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path stroke="none" d="M0 0h24v24H0z" />
            <polyline points="5 12 3 12 12 3 21 12 19 12" />
            <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
            <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
          </svg>

          <span class="ms-3">Home</span>
        </a>
      </li>
      <li>
        <a
          routerLink="/Dashboard/dashboard-home/list-user"
          class="flex items-center p-2 rounded-lg text-gray-500 hover:bg-blue-600 active:bg-blue-600 hover:text-white group"
          (click)="setActiveLink('Gestión')"
          [ngClass]="{
            'bg-blue-600 text-white': activeLink === 'Gestión',
          }"
        >
          <svg
            class="h-7 w-7"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"
            />
          </svg>

          <span class="flex-1 ms-3 whitespace-nowrap"
            >Gestión de Estudiantes</span
          >
        </a>
      </li>
      <li>
        <a
          routerLink="/Dashboard/dashboard-home/quiz"
          class="flex items-center p-2 rounded-lg text-gray-500 hover:bg-blue-600 hover:text-white group"
          (click)="setActiveLink('evaluación')"
          [ngClass]="{
            'bg-blue-600 text-white': activeLink === 'evaluación'
          }"
        >
          <svg
            class="flex-shrink-0 w-8 h-6"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
            fill="currentColor"
            viewBox="0 0 20 20"
          >
            <path
              d="M5 5V.13a2.96 2.96 0 0 0-1.293.749L.879 3.707A2.96 2.96 0 0 0 .13 5H5Z"
            />
            <path
              d="M6.737 11.061a2.961 2.961 0 0 1 .81-1.515l6.117-6.116A4.839 4.839 0 0 1 16 2.141V2a1.97 1.97 0 0 0-1.933-2H7v5a2 2 0 0 1-2 2H0v11a1.969 1.969 0 0 0 1.933 2h12.134A1.97 1.97 0 0 0 16 18v-3.093l-1.546 1.546c-.413.413-.94.695-1.513.81l-3.4.679a2.947 2.947 0 0 1-1.85-.227 2.96 2.96 0 0 1-1.635-3.257l.681-3.397Z"
            />
            <path
              d="M8.961 16a.93.93 0 0 0 .189-.019l3.4-.679a.961.961 0 0 0 .49-.263l6.118-6.117a2.884 2.884 0 0 0-4.079-4.078l-6.117 6.117a.96.96 0 0 0-.263.491l-.679 3.4A.961.961 0 0 0 8.961 16Zm7.477-9.8a.958.958 0 0 1 .68-.281.961.961 0 0 1 .682 1.644l-.315.315-1.36-1.36.313-.318Zm-5.911 5.911 4.236-4.236 1.359 1.359-4.236 4.237-1.7.339.341-1.699Z"
            />
          </svg>

          <span class="flex-1 ms-3 whitespace-nowrap">Evaluación en Línea</span>
        </a>
      </li>
      <li>
        <a
          class="flex items-center cursor-pointer p-2 rounded-lg text-gray-500 hover:bg-blue-600 hover:text-white group"
          (click)="logout()"
        >
          <svg
            class="w-9 h-8"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"
            />
          </svg>

          <span class="flex-1 ms-3 whitespace-nowrap">Cerrar Sesion</span>
          <!-- Notificacion -->
        </a>
      </li>
    </ul>
  </div>
</aside>

<!-- Overlay para cerrar el menú al hacer clic fuera -->
<div
  *ngIf="isMenuOpen"
  class="fixed inset-0 bg-black opacity-50"
  (click)="toggleMenu()"
></div>
